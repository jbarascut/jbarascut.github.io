<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom"><title>Gnupyx</title><link href="http://gnupyx.ninja/" rel="alternate"></link><link href="http://gnupyx.ninja/feeds/all.atom.xml" rel="self"></link><id>http://gnupyx.ninja/</id><updated>2015-08-20T00:00:00+02:00</updated><entry><title>The fucking script !!!!</title><link href="http://gnupyx.ninja/the-fucking-script.html" rel="alternate"></link><updated>2015-08-20T00:00:00+02:00</updated><author><name>Gnupyx</name></author><id>tag:gnupyx.ninja,2015-08-20:the-fucking-script.html</id><summary type="html">&lt;p&gt;Ne vous inquiétez pas je n'ai pas la haine après un script, bien le contraire.&lt;/p&gt;
&lt;p&gt;Si vous êtes comme moi à toujours à oublier ce petit fripon de sudo devant apt-get alors &lt;a class="reference external" href="https://github.com/nvbn/thefuck"&gt;thefuck&lt;/a&gt; peut résoudre facilement votre problème. Ainsi que d'autres problèmes de commandes :)
ish&lt;/p&gt;
&lt;p&gt;Thefuck est un script python. Il fonctionne avec bash, zsh ou tout autre shell.&lt;/p&gt;
&lt;img alt="the fuck command line" src="images/thefuck.gif" /&gt;
&lt;div class="section" id="installation"&gt;
&lt;h2&gt;Installation&lt;/h2&gt;
&lt;p&gt;Le reflex à avoir lorsque l'on veut installer un programme en python est de voir si il est disponible dans &lt;a class="reference external" href="https://pypi.python.org/pypi/pip"&gt;pip&lt;/a&gt; et installer le programme avec&lt;/p&gt;
&lt;p&gt;Sur Debian ou dérivés:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo apt-get install python-pip
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sur Redhat et dérives:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo yum install python-pip
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Sur Arch
Il y'a déjà un paquet pour Arch&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo pacman -S thefuck
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ou avec pip&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo pacman -Suy python-pip
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Puis avec pip&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo pip install thefuck
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="shell"&gt;
&lt;h2&gt;Shell&lt;/h2&gt;
&lt;p&gt;Dans votre shell, il faut ajouter les lignes suivantes, par exemple dans votre &lt;strong&gt;.bashrc&lt;/strong&gt;:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;thefuck --alias&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;span class="c"&gt;# Et si fuck vous plait pas vous pouvez préciser un alias&lt;/span&gt;
&lt;span class="nb"&gt;eval&lt;/span&gt; &lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;&lt;span class="k"&gt;$(&lt;/span&gt;thefuck --alias tux&lt;span class="k"&gt;)&lt;/span&gt;&lt;span class="s2"&gt;&amp;quot;&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Recharger le .bashrc&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="nb"&gt;source&lt;/span&gt; ~/.bashrc
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Thefuck corrige pas mal de commande comme cp, git, grep, ls, mercurial, mkdir, pip, sudo, apt-get, yum, rm etc&lt;/p&gt;
&lt;p&gt;Il est même possible de créer ces propres règles simplement&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;match&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;command&lt;/span&gt;: Command, settings: Settings&lt;span class="o"&gt;)&lt;/span&gt; -&amp;gt; bool
get_new_command&lt;span class="o"&gt;(&lt;/span&gt;&lt;span class="nb"&gt;command&lt;/span&gt;: Command, settings: Settings&lt;span class="o"&gt;)&lt;/span&gt; -&amp;gt; str &lt;span class="p"&gt;|&lt;/span&gt; list&lt;span class="o"&gt;[&lt;/span&gt;str&lt;span class="o"&gt;]&lt;/span&gt;
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Plus d'infos &lt;a class="reference external" href="https://github.com/nvbn/thefuck#creating-your-own-rules"&gt;ici&lt;/a&gt;&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusion"&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Thefuck me simplifie la vie en corrigeant la plupart des commandes fausses que je veux executer. A utiliser et abuser!&lt;/p&gt;
&lt;/div&gt;
</summary><category term="bash"></category><category term="thefuck"></category></entry><entry><title>Désactiver le bluetooth au démarrage du PC.</title><link href="http://gnupyx.ninja/desactiver-le-bluetooth-au-demarrage-du-pc.html" rel="alternate"></link><updated>2014-07-14T00:00:00+02:00</updated><author><name>Gnupyx</name></author><id>tag:gnupyx.ninja,2014-07-14:desactiver-le-bluetooth-au-demarrage-du-pc.html</id><summary type="html">&lt;p&gt;Par défaut, lorsque j'allume mon PC portable, le bluetooth est démarré. Vu que je ne m'en sers pas et que je désire gagner en autonomie, j'ai décidé de le désactiver dès le démarrage.&lt;/p&gt;
&lt;p&gt;Pour désactiver le bluetooth c'est très simple, il suffit de rajouter une commande dans le fichier rc.local&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;&lt;span class="c"&gt;# vim /etc/rc.local&lt;/span&gt;

rfkill block bluetooth
&lt;span class="nb"&gt;exit &lt;/span&gt;0
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Lors du prochain démarrage du PC, le bluetooth sera désactivé par défaut.
Il est bien entendu possible de le réactiver via l'icône.&lt;/p&gt;
</summary><category term="bluetooth"></category><category term="ubuntu"></category></entry><entry><title>Configurer son serveur ssh</title><link href="http://gnupyx.ninja/configurer-son-serveur-ssh.html" rel="alternate"></link><updated>2014-05-04T00:00:00+02:00</updated><author><name>Gnupyx</name></author><id>tag:gnupyx.ninja,2014-05-04:configurer-son-serveur-ssh.html</id><summary type="html">&lt;div class="section" id="introduction"&gt;
&lt;h2&gt;Introduction&lt;/h2&gt;
&lt;p&gt;D'après &lt;a class="reference external" href="http://www.futura-sciences.com/magazines/high-tech/infos/dico/d/internet-ssh-494/"&gt;futura_sciences&lt;/a&gt; :&lt;/p&gt;
&lt;blockquote&gt;
Ssh est un protocole qui permet de se connecter à une machine distante avec une liaison sécurisée. Les données sont cryptées entre machines. Il permet d'exécuter des commandes sur un serveur distant.&lt;/blockquote&gt;
&lt;/div&gt;
&lt;div class="section" id="regles-de-base"&gt;
&lt;h2&gt;Règles de base&lt;/h2&gt;
&lt;p&gt;Ssh est un protocole très utilisé ce qui en fait une cible de choix pour les pirates informatiques. La plupart des administrateurs installent OpenSSH en laissant la configuration par défaut ce qui n'est pas recommandé.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="how-to"&gt;
&lt;h2&gt;How to&lt;/h2&gt;
&lt;ol class="arabic simple"&gt;
&lt;li&gt;Installer &lt;a class="reference internal" href="#ssh"&gt;ssh&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Créer un nouvel &lt;a class="reference internal" href="#utilisateur"&gt;utilisateur&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Empêcher l'accès à &lt;a class="reference internal" href="#root"&gt;root&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Changer le &lt;a class="reference internal" href="#port"&gt;port&lt;/a&gt;&lt;/li&gt;
&lt;/ol&gt;
&lt;/div&gt;
&lt;div class="section" id="installer-ssh"&gt;
&lt;span id="ssh"&gt;&lt;/span&gt;&lt;h2&gt;Installer ssh&lt;/h2&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo aptitude install ssh

ssh root@serveur.com
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si votre connexion est réussie, alors votre serveur ssh fonctionne.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="creer-un-nouvel-utilisateur"&gt;
&lt;span id="utilisateur"&gt;&lt;/span&gt;&lt;h2&gt;Créer un nouvel utilisateur&lt;/h2&gt;
&lt;p&gt;Avant d'interdire root, il faut créer un utilisateur. Nous utiliserons cet utilisateur pour nous connecter en ssh à la place de root.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo useradd -m -d /home/monutilisateur -s /bin/bash monutilisateur
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Afin d'avoir un serveur mieux sécurisé, vous allez mettre un mot de passe fort à notre nouvel utilisateur.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo passwd monutilisateur
Enter new UNIX password:
Retype new UNIX password:
passwd : le mot de passe a été mis à jour avec succès
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Avant de bloquer root, nous allons tester la connexion avec notre utilisateur.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ssh monutilisateur@serveur.con
passwd:
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si tout est ok, nous pouvons aller bloquer la connexion ssh en tant que root&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="empecher-l-acces-a-root"&gt;
&lt;span id="root"&gt;&lt;/span&gt;&lt;h2&gt;Empêcher l'accès à root&lt;/h2&gt;
&lt;p&gt;Pour bloquer l'utilisateur root, il faut aller configurer le démon ssh pour qu'il n'accepte plus les connexions de l'utilisateur root.&lt;/p&gt;
&lt;p&gt;Le demon ssh est sshd&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo vim /etc/ssh/sshd_config
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Remplacer:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;PermitRootLogin yes
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Par:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;PermitRootLogin no
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Une fois la modification effectué, il ne nous reste plus qu'à tester le refus de connexion pour l'utilisateur root.&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ssh root@serveur.com
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Si vous n'arrivez pas à vous connecter, alors que vous tapez le bon mot de passe, celà signifie que l'utilisateur root n'a pas le droit de se connecter.&lt;/p&gt;
&lt;/div&gt;
&lt;div class="section" id="changer-le-port"&gt;
&lt;span id="port"&gt;&lt;/span&gt;&lt;h2&gt;Changer le port&lt;/h2&gt;
&lt;p&gt;Le port SSH par défaut est le 22. Il est là cible de multiples attaques principalement faites par des bots. Afin de réduire le nombre d'attaques par bot, nous allons modifier le port de connexion ssh&lt;/p&gt;
&lt;p&gt;Et remplacer le port 22 par un autre port de votre choix:&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;sudo vim /etc/ssh/sshd_config

Port 2345

:wq

sudo /etc/init.d/ssh restart
&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Pour se connecter en ssh, il faut préciser le nouveau port lors de la connexion&lt;/p&gt;
&lt;div class="highlight"&gt;&lt;pre&gt;ssh monutilisateur@serveur.com -p 2345
&lt;/pre&gt;&lt;/div&gt;
&lt;/div&gt;
&lt;div class="section" id="conclusion"&gt;
&lt;h2&gt;Conclusion&lt;/h2&gt;
&lt;p&gt;Nous avons vu rapidement comment rendre notre connexion ssh un peu plus sécurisée. Si vous désirez sécuriser encore plus votre connexion ssh, vous pouvez utiliser une connexion par clé à la place des mots de passe, ou alors renforcer la sécurté et les accès en mettant en place Fail2ban.&lt;/p&gt;
&lt;/div&gt;
</summary><category term="ssh"></category></entry></feed>